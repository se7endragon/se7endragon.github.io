---
layout: post
title: "Data Mining Lecture"
date: 2019-05-02
image: '/assets/img/'
description: 'Lecture 8'
categories:
- Lecture Notes
- Data Mining
---
# 모델 성능 시각화

## 분류 대신 서열화하기
- 기댓값을 추정하여 classifier의 효용성을 평가하였음.
- 각각의 경우를 따로 결정하기보다는 최상위 n개의 경우를 이용해 의사결정에 활용.
  - 프로모션에 사용할 예산이 한정되어있는 경우 유용.
  - 각 계층(y계층)에 따라 일정한 비용과 효과가 발생할 때, 기댓값이 가장 높은 객체를 타겟팅하려면 타겟 계층에 속할 가능성이 높은 순으로 객체 나열하는것 만으로 충분하다.
서열화 하는 기준을 분류자에 임계치(threshold)를 추가하여 결정.
threshold level에 따라 각각의 confusion matrix for 기대값 계산이 가능.

## 수익 곡선(Profit Curves)
for a certain classification model, X축에 threshold level을 두고 y에 기대수익을 두어서 곡선을 그려봄. 그래서 각 threshold level당 기대되는 수익을 시각화하여 max profit을 알아낼수있겠죠?

## ROC 그래프와 곡선
- 수익 계산시 중대한 영향을 미치는 조건
  - 사전 계층: 타겟 모집단에 대한 양성 객체의 비율
  - 비용대비 효과: ROI

- 사전계층과 비용대비 효과를 사전에 잘 알고있고 이것들이 안정적이면 수익 곡선으로 모델 성능을 충분히 시각화 가능.
- 하지만 이 조건들은 불확실하거나 불안정한 경우가 많음.
  - 사기탐지의 경우 사기 금액은 사건 발생 장소나 시기에 따라 다름.
- 모델마다 여러 기대수익을 계산해 놓으면 불확실한 조건에 대응가능하지만 복잡도 역시 증가.
- ROC 그래프와 곡선 활용해서 해결, which is independent of 사전계층/비용대비효과

### ROC 그래프
- FP/TP rate 으로 각 모델들을 locate 시켜서 비교.
- 점이 대각선의 11시 방향에 가까울수록 더 뛰어난 성능의 분류자라고 할 수 있음. (higher TP + smaller FP)
- 여기에도 Threshold화 시켜서 나타낼 수 있는데, ROC그래프에 점 대신 threshold 레벨별로 각 모델에 대하여 점을 여러개 찍어서 연결시키는 선으로써 나타내는게가능.
- AUC(Area Under the ROC Curve)는 ROC 커브의 밑에 면적계산하는거. 이걸이용하면 이 면적이 높으면 높을수록 해당 모델이 다른 모델에 비교해서 더 좋다고 얘기 할 수 있는 수치적 근거로 사용가능해짐. (왜냐하면 이거없이 눈대중으로 그냥 커브를 봤을때, 두 커브가 올라갔다내려갔다 막상막하이면 알수가 없잖음.)

### CRC 커브 (누적응답곡선)
- ROC 곡선 대신 사용해도되는 시각화 기법. 더직관적.
- X에 모집단의 타겟팅 객체비율(Threshold), Y는 ROC와 동일하게 TP.

### 향상도 곡선(Lift Curve)
- 분류자의 향상도는 무작위로 추측하는 경우보다(TP기준) 얼마나 좋은지를 알려줌.
- CRC에서 TP수치를 무작위 분류자의 성능으로 나눈 값을 나타낸 곡선.

결론은 사정계층이나 비용계산을 잡아내기가 힘들기때문에 기대값 계산은 현실적으로 힘든 경우가 많기때문에, ROC, AUC, CRC, Lift Curve등을 이용하여 모델들을 시각화하여 검증하는 작업을 해주면 좋을 것 같음.
